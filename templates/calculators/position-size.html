{% extends "calculator-layout.html" %}
{% block title %}Position Size Calculators | {% endblock %}
{% block pagetitle %}Position Size Calculator{% endblock %}
{% block maincontent %}
<div class="smc-calculator-wrapper">
    <span class="smc-calculator-page-title">Position Size</span>
    <div class="smc-spacer"></div>
    <form method="POST" action="{{url_for('positionsizemodule.positionsize')}}" id="myForm">
        {{ form.csrf_token }}
        <div class="row">
            <div class="col">
                <!-- get Account size -->
                {{ form.accountSize.label(for="accountSize",class="smc-label")}}
                {{ form.accountSize(class="smc-input",id="accountSize",placeholder="Account Size") }}
                <!-- For Error -->
                <div class="smc-validation-err">
                    {% if form.accountSize.errors %}
                    {% for error in form.accountSize.errors %}
                    <span><i class="ri-error-warning-line"></i> {{ error }}</span>
                    {% endfor %}
                    {% endif %}
                </div>
            </div>

            <div class="col">
                <!-- get Risk Per Trade -->
                {{ form.riskPerTrade.label(for="riskPerTrade",class="smc-label")}}
                {{ form.riskPerTrade(class="smc-input",id="riskPerTrade",placeholder="Risk Per Trade") }}
                <!-- For Error -->
                <div class="smc-validation-err">
                    {% if form.riskPerTrade.errors %}
                    {% for error in form.riskPerTrade.errors %}
                    <span><i class="ri-error-warning-line"></i> {{ error }}</span>
                    {% endfor %}
                    {% endif %}
                </div>
            </div>
        </div>

        <!--next line-->
        <div class="row">
            <div class="col">
                <!-- get Buy Price value -->
                {{ form.buyPrice.label(for="buyPrice",class="smc-label")}}
                {{ form.buyPrice(class="smc-input",id="buyPrice",placeholder="Buy Price") }}
                <!-- For Error -->
                <div class="smc-validation-err">
                    {% if form.buyPrice.errors %}
                    {% for error in form.buyPrice.errors %}
                    <span><i class="ri-error-warning-line"></i> {{ error }}</span>
                    {% endfor %}
                    {% endif %}
                </div>
            </div>

            <div class="col">
                <!-- get High value -->
                {{ form.targetPrice.label(for="targetPrice",class="smc-label")}}
                {{ form.targetPrice(class="smc-input",id="targetPrice",placeholder="Target Price") }}
                <!-- For Error -->
                <div class="smc-validation-err">
                    {% if form.targetPrice.errors %}
                    {% for error in form.targetPrice.errors %}
                    <span><i class="ri-error-warning-line"></i> {{ error }}</span>
                    {% endfor %}
                    {% endif %}
                </div>
            </div>

            <div class="col">
                <!-- get Stop loss -->
                {{ form.stopLoss.label(for="stopLoss",class="smc-label")}}
                {{ form.stopLoss(class="smc-input",id="stopLoss",placeholder="stopLoss") }}
                <!-- For Error -->
                <div class="smc-validation-err">
                    {% if form.stopLoss.errors %}
                    {% for error in form.stopLoss.errors %}
                    <span><i class="ri-error-warning-line"></i> {{ error }}</span>
                    {% endfor %}
                    {% endif %}
                </div>
            </div>
        </div>
        <!--display output-->
        <div class="smc-spacer"></div>
        <div class="row">
            <div class="col align-center">
                {{ form.submit(class="smc-button-lite") }}
            </div>
        </div>
    </form>

    <div class="spacer"></div>
    {% if result %}
    <div class="display-result">
        <table class="table table-striped table-dark table-borderless">
            <tbody>
                <tr style="border-left: 5px solid violet;">
                    <td>Risk Value</td>
                    <td>{{result['riskValue']}}</td>
                </tr>
                <tr style="border-left: 5px solid indigo;">
                    <td>Position Size</td>
                    <td>{{result['positionSize']}}</td>
                </tr>
                <tr style="border-left: 5px solid greenyellow">
                    <td>Profit</td>
                    <td style="color:greenyellow;font-weight:500;">{{result['profit']}}</td>
                </tr>
                <tr style="border-left: 5px solid red;">
                    <td>Loss</td>
                    <td style="color:red;font-weight:500;">{{result['loss']}}</td>
                </tr>
                <tr style="border-left: 5px solid yellow;">
                    <td>Risk Reward Ratio</td>
                    <td>{{result['riskRewardRatio']}}</td>
                </tr>

            </tbody>
        </table>
    </div>
    {% endif %}
</div>
{% endblock %}